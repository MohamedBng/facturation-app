<%= form_for([:admin, @user], html: { id: "form-container", class: "needs-validation", novalidate: "" }) do |f| %>
  <div class="form-group mt-3">
    <div class="col-sm-6">
      <%= f.label :email, t('admin.users.form.email'), class: "form-label" %>
      <%= f.email_field :email, class: "form-control" %>
    </div>
  </div>

  <div class="form-group mt-3">
    <div class="col-sm-6">
      <%= f.label :lastname, t('admin.users.form.lastname'), class: "form-label" %>
      <%= f.text_field :lastname, class: "form-control" %>
    </div>
  </div>

  <div class="form-group mt-3">
    <div class="col-sm-6">
      <%= f.label :firstname, t('admin.users.form.firstname'), class: "form-label" %>
      <%= f.text_field :firstname, class: "form-control" %>
    </div>
  </div>

  <% if @user.new_record? %>
    <div class="form-group mt-3">
      <div class="col-sm-6">
        <%= f.label :password, t('admin.users.form.password'), class: "form-label" %>
        <%= f.password_field :password, class: "form-control" %>
      </div>
    </div>

    <div class="form-group mt-3">
      <div class="col-sm-6">
        <%= f.label :password_confirmation, t('admin.users.form.password_confirmation'), class: "form-label" %>
        <%= f.password_field :password_confirmation, class: "form-control" %>
      </div>
    </div>
  <% end %>

  <% if current_user.admin? %>
    <div class="form-group mt-3">
      <div class="col-sm-6">
        <%= f.label :role, t('admin.users.form.role'), class: "form-label" %>
        <%= f.select :role, User.roles.keys.map { |role| [role.titleize, role] }, { include_blank: t('users.form.select_role') }, { class: "form-select" } %>
      </div>
    </div>
  <% end %>

  <div class="form-group mt-3">
    <div class="col-sm-6">
      <%= f.submit "Envoyer", class: "btn btn-primary" %>
    </div>
  </div>
<% end %>
